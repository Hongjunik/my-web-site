<!DOCTYPE html>
<html lang="ko">
    <head>
        <!--
            [ë¬¸ì„œ ê¸°ë³¸ ì„¤ì •]
            - lang="ko" : ì´ ë¬¸ì„œ(í˜ì´ì§€)ëŠ” í•œêµ­ì–´ë¡œ ì‘ì„±ë˜ì—ˆë‹¤ëŠ” ì˜ë¯¸
            - <meta charset = "UTF-8"> : ê¸€ìê°€ ê¹¨ì§€ì§€ ì•Šê²Œ UTF-8 ì¸ì½”ë”© ì‚¬ìš©
            - <meta name="viewport"...> : ëª¨ë°”ì¼ í™”ë©´ì—ì„œ ê¸€ì”¨ê°€ ë„ˆë¬´ ì‘ê±°ë‚˜ ê¹¨ì§€ì§€ ì•Šê²Œ í™”ë©´ ë¹„ìœ¨ ë§ì¶”ê¸°
        -->
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

        <title>ë­í‚¹ (Tip 50)</title>

        <!--
            [CSS: í™”ë©´ì„ ê¾¸ë¯¸ëŠ” ìŠ¤íƒ€ì¼]
            - ì•„ë˜ ìŠ¤íƒ€ì¼ì€ "ë³´ê¸° ì¢‹ê²Œ" ë§Œë“¤ê¸° ìœ„í•œ ë””ìì¸ ì½”ë“œ
            -ì½”ë“œ ì˜† ì£¼ê²ƒì„ ì½ìœ¼ë©° "ë¬´ì—‡ì„" "ì™œ" í•˜ëŠ”ì§€ ì´í•´í•´ë³´ì
        -->
        <style>
            /* ==========================
               ì „ì²´ í˜ì´ì§€ì— ì“°ì¼ ê³µí†µ ì„¤ì •
               ==========================*/

            /* :root : ì „ì—­(ì „ì²´)ì—ì„œ ì¬ì‚¬ìš©í•  ê°’ì„ ì €ì¥í•˜ëŠ” ê³³ (CSS ë³€ìˆ˜) */
            :root {
                --max-w: 600px;
            }

            /* body : í˜ì´ì§€ ì „ì²´ì˜ ê¸°ë³¸ ê¸€ê¼´, ë°°ê²½, ê¸€ììƒ‰ ë“± */
            body {
                margin: 0;  /* ë¸Œë¼ìš°ì € ê¸°ë³¸ ì—¬ë°± ì œê±° â†’ í™”ë©´ì„ ê½‰ ì±„ì›€ */
                font-family: system-ui, -apple-system, Segoe UI, Roboto, 'Noto Sans KR', Arial, sans-serif; /* ì½ê¸° ì¢‹ì€ ê¸°ë³¸ ê¸€ê¼´ë“¤ */
                background: #f6f7fb;  /* ì˜…ì€ íšŒìƒ‰ ë°°ê²½ â†’ ëˆˆì— í¸ì•ˆ */
                color: #222;    /* ê¸€ììƒ‰: ì§„í•œ íšŒìƒ‰(ì™„ì „ ê²€ì •ë³´ë‹¤ ë¶€ë“œëŸ½ë‹¤) */
            }

            /* .wrap : í™”ë©´ì˜ ë‚´ìš©ì„ ê°ì‹¸ëŠ” ë°”ê¹¥ ì»¨í…Œì´ë„ˆ(ì—¬ë°±/ê°€ìš´ë° ì •ë ¬) */
            .wrap {
                margin: 0 auto;             /* ì¢Œìš° ìë™ ì—¬ë°± â†’ ê°€ìš´ë° ì •ë ¬ íš¨ê³¼ */
                padding: 24px 16px 48px;    /* ìœ„/ì–‘ì˜†/ì•„ë˜ ì—¬ë°± */
                /* í­ì€ ì•„ë˜ ë¯¸ë””ì–´ì¿¼ë¦¬ì—ì„œ PC/ëª¨ë°”ì¼ì— ë”°ë¼ ë‹¤ë¥´ê²Œ ì¤Œ */
            }

            /* =========================
               ìƒë‹¨ ì œëª©/ì„¤ëª… ì˜ì—­
               ========================= */
            .header {
                max-width: var(--max-w);  /* PCì—ì„œ 600px ë„ˆë¹„ ì œí•œ */
                margin: 0 auto 16px;      /* ê°€ìš´ë° ì •ë ¬ + ì•„ë˜ë¡œ 16px ì—¬ë°± */
                display: flex;            /* ê°€ë¡œ ë°°ì¹˜ */
                align-items: center;      /* ì„¸ë¡œ ê°€ìš´ë° ì •ë ¬ */
                gap: 12px;                /* ì•„ì´í…œ ì‚¬ì´ ê°„ê²© */
            }

            .title {
                font-weight: 800;         /* ì•„ì£¼ êµµê²Œ */
                font-size: 20px;          /* í¬ê²Œ */
                letter-spacing: 0.3px;    /* ê¸€ì ì‚¬ì´ ì•½ê°„ ë²Œë¦¬ê¸° â†’ ì œëª© ëŠë‚Œ */
            }

            .sub {
                color: #666;      /* ì—°í•œ íšŒìƒ‰ â†’ ë³´ì¡° ì„¤ëª… ëŠë‚Œ */
                font-size: 12px;    /* ì‘ê²Œ */
            }

            /* ==========================
               ì¹´ë“œ(ë°•ìŠ¤) í˜•íƒœ ë ˆì´ì•„ì›ƒ
               ========================== */

            .card {
                max-width: var(--max-w);    /* PC ìµœëŒ€ ê°€ë¡œ 600px */
                margin: 0 auto;             /* ê°€ìš´ë° ì •ë ¬ */
                background: #fff;         /* í°ìƒ‰ ë°°ê²½ */
                border-radius: 14px;        /* ë‘¥ê·¼ ëª¨ì„œë¦¬ */
                box-shadow: 0 6px 20px rgba(0, 0, 0, 0.08); /* ê·¸ë¦¼ì â†’ ì¹´ë“œì²˜ëŸ¼ ë³´ì„ */
                overflow: hidden;           /* ì•ˆìª½ ë‚´ìš©ì´ ë„˜ì¹˜ë©´ ê°€ë¦¼ */
            }

            /* ì¹´ë“œ ìƒë‹¨ì˜ ë²„íŠ¼ ì˜ì—­(íˆ´ë°”) */
            .toolbar {
                display: flex;                    /* ê°€ë¡œ ë°°ì¹˜ */
                align-items: center;              /* ì„¸ë¡œ ê°€ìš´ë° ì •ë ¬ */
                justify-content: space-between;   /* ì¢Œìš° ëìœ¼ë¡œ ë²Œë¦¬ê¸° */
                gap: 8px;                         /* ìš”ì†Œ ì‚¬ì´ ê°„ê²© */
                padding: 12px 14px;               /* ì•ˆìª½ ì—¬ë°± */
                border-bottom: 1px solid #eee;  /* ì•„ë˜ìª½ ì„ ìœ¼ë¡œ êµ¬ë¶„ */
                background: #fafafa;            /* ì—°í•œ íšŒìƒ‰ ë°°ì—­ */
            }

            /* ë²„íŠ¼ ê¸°ë³¸ ìŠ¤íƒ€ì¼ */
            .btn {
                appearance: none;         /* ë¸Œë¼ìš°ì € ê¸°ë³¸ ë²„íŠ¼ ìŠ¤íƒ€ì¼ ì œê±° */
                border: 0;                /* í…Œë‘ë¦¬ ì—†ìŒ */
                padding: 8px 12px;        /* ì•ˆìª½ ì—¬ë°± */
                border-radius: 10px;      /* ë‘¥ê·¼ ëª¨ì„œë¦¬ */
                background: #2d6cdf;    /* íŒŒë€ìƒ‰ ë°°ê²½ */
                color: #fff;            /* í°ìƒ‰ ê¸€ì */
                font-weight: 700;         /* êµµì€ ê¸€ì */
                cursor: pointer;          /* ë§ˆìš°ìŠ¤ ì†ê°€ë½ ëª¨ì–‘ */
            }
            .btn:active {
                transform: translateY(1px); /* ëˆŒë €ì„ ë•Œ ì‚´ì§ ì•„ë˜ë¡œ â†’ ë²„íŠ¼ ëˆ„ë¥´ëŠ” ëŠë‚Œ */
            }

            /* ë³´ì¡°(ghost) ë²„íŠ¼: ì˜…ì€ íŒŒë‘ ë°°ê²½ + ì§„í•œ íŒŒë‘ ê¸€ì */
            .ghost {
                background: #e9eefc;
                color: #1b3ea3;
            }

            /* =======================
               í‘œê°€ ë„ˆë¬´ ë„“ì–´ì„œ ë„˜ì¹˜ë©´ ê°€ë¡œ ìŠ¤í¬ë¡¤ í—ˆìš©
               ======================= */

            .table-wrap {
                width: 100%;        /* ê°€ë¡œ ì „ì²´ ì‚¬ìš© */
                overflow-x: auto;   /* ë„˜ì¹˜ë©´ ì•„ë˜ìª½ìœ¼ë¡œ ìŠ¤í¬ë¡¤ ìƒì„± */
            }

            /* ======================
               ë­í‚¹ í‘œ ìŠ¤íƒ€ì¼
               ====================== */

            table {
                width: 100%;                /* ê°€ë¡œ ì „ì²´ ì‚¬ìš© */
                border-collapse: collapse;  /* ì…€ ê²½ê³„ì„  ê²¹ì¹˜ì§€ ì•Šê²Œ(ê¹”ë”) */
                font-size: 14px;            /* í‘œì˜ ê¸°ë³¸ ê¸€ì í¬ê¸° */
            }

            thead th {
                position: sticky; top: 0;             /* í‘œ í—¤ë”ê°€ ìŠ¤í¬ë¡¤í•´ë„ ìœ„ì— ë¶™ì–´ ìˆê²Œ í•¨ */
                background: #f3f6ff;                /* ì—°í•œ íŒŒë€ìƒ‰ ë°°ê²½ */
                color: #1b3ea3;                     /* ì§„í•œ íŒŒë€ ê¸€ì”¨ */
                font-weight: 800;                     /* êµµê²Œ */
                text-align: left;                     /* ì™¼ìª½ ì •ë ¬ */
                padding: 12px 10px;                   /* ì•ˆìª½ ì—¬ë°± */
                border-bottom: 1px solid #e2e8ff;   /* ì•„ë˜ìª½ êµ¬ë¶„ì„  */
                z-index: 1;                           /* ìœ„ì— ë–  ìˆë„ë¡ ê°’(í—¤ë” ê²¹ì¹¨ ë°©ì§€) */
            }

            tbody td {
                padding: 12px 10px;                   /* í‘œ ì…€ ì•ˆìª½ ì—¬ë°± */
                border-bottom: 1px solid #f0f0f0;   /* ì¤„ êµ¬ë¶„ì„  */
                white-space: nowrap;                  /* ì¤„ë°”ê¿ˆ ì—†ì´ í•œ ì¤„ë¡œ í‘œì‹œ */
            }

            /* í™€ìˆ˜ ì¤„ ë°°ê²½ ì‚´ì§ ë‹¤ë¥´ê²Œ â†’ ì¥´ êµ¬ë¶„ì´ ì‰½ê²Œ ë³´ì„ */
            tbody tr:nth-child(odd) {  background: #fcfcff; }

            /* ë§ˆìš°ìŠ¤ ì˜¬ë¦¬ë©´ ë°°ê²½ ê°•ì¡° â†’ ì–´ë””ì— ìˆëŠ”ì§€ ì˜ ë³´ì´ê²Œ */
            tbody tr:hover {  background: #f2f7ff;  }

            /* ìˆœìœ„(ìˆ«ì) ì¹¸ì€ ë” í¬ê³  êµµê²Œ */
            .rank {
                font-weight: 900;   /* ì•„ì£¼ êµ´ê²Œ */
                font-size: 22px;    /* í¬ê²Œ */
                width: 76px;        /* ì¹¸ ë„ˆë¹„ ê³ ì • â†’ ìë¦¬ ëœ í”ë“¤ë¦¼ */
                letter-spacing: 0.2px;
            }

            /* 1~3ë“±ì€ ê¸€ììƒ‰ì„ ë©”ë‹¬ ëŠë‚Œìœ¼ë¡œ */
            .rank.top1 {  color: #d97706;  }    /* ê¸ˆìƒ‰ ëŠë‚Œ */
            .rank.top2 {  color: #6b7280;  }    /* ì€ìƒ‰ ëŠë‚Œ */
            .rank.top3 {  color: #b45309;  }    /* ë™ìƒ‰ ëŠë‚Œ */

            /* 1~10ë“± í–‰ë§ˆë‹¤ ë°°ê²½ ë‹¤ë¥´ê²Œ â†’ ìœ„ìª½ ìˆœìœ„ê°€ ëˆˆì— ë„ë„ë¡ */
            tr.row-1 { background: #fff2cc !important; }
            tr.row-2 { background: #fce8e6 !important; }
            tr.row-3 { background: #e7f3ff !important; }
            tr.row-4 { background: #e9f7ef !important; }
            tr.row-5 { background: #f3e8ff !important; }
            tr.row-6 { background: #fff0f6 !important; }
            tr.row-7 { background: #e6fffb !important; }
            tr.row-8 { background: #f0f4ff !important; }
            tr.row-9 { background: #f9fbe7 !important; }
            tr.row-10 { background: #fef7ff !important; }

            /* ë°©ê¸ˆ ì €ì¥í•´ì„œ ë„˜ì–´ì˜¨ ë‚´ ê¸°ë¡œ(ì˜µì…˜) ê°•ì¡°ìš© ë°°ê²½(ë…¸ë€ìƒ‰) */
            .h1 {  background: #fff7cc !important; }

            /* ì•„ë˜ìª½ ì‘ì€ ì„¤ëª…(í‘¸í„°) ì˜ì—­ */
            .footer {
                max-width: var(--max-w);    /* PCì—ì„œ 600px ì œí•œ */
                margin: 14px auto 0;        /* ìœ„ìª½ ì—¬ë°± + ê°€ìš´ë° ì •ë ¬ */
                color: #666;              /* ì—°í•œ ê¸€ì”¨ìƒ‰ */
                font-size: 12px;            /* ì‘ì€ ê¸€ì”¨ */
                line-height: 1.4;           /* ì¤„ ê°„ê²© */
                padding: 0 2px;             /* ì¢Œìš° ì‚´ì§ ì—¬ë°± */
            }

            /* ===========================
               ë°˜ì‘í˜•(PC/ëª¨ë°”ì¼) ì„¤ì •
               - PC : ì½˜í…ì¸  ë„ˆë¹„ 600px ê³ ì •
               - ëª¨ë°”ì¼ : í™”ë©´ ê°€ë¡œ 100% ì‚¬ìš©
               =========================== */
            @media (min-width: 769px) {  .wrap {   width: var(--max-w); }  }
            @media (max-width: 768px) { .wrap { width: var(--max-w);}}
        </style>
    </head>

    <body>
        <!--
            [í™”ë©´ êµ¬ì„±]
            - .wrap : ì „ì²´ ë‚´ìš©ì„ ê°ì‚¬ëŠ” ì»¨í…Œì´ë„ˆ
            - .header : ìƒë‹¨ ì œëª©/ì„¤ëª…
            = .card : ì•ˆì— ë²„íŠ¼(íˆ´ë°”) + í‘œ(ë­í‚¹)ê°€ ë“¤ì–´ê°
        -->
        <div class="wrap">
            <!-- ìƒë‹¨: ì œëª©ê³¼ ì„¤ëª… -->
             <div class="header">
                <div>
                    <div class="title">ğŸ† ë­í‚¹ TOP 50</div>
                    <div class="sub">ê¸°ë¡ì´ ì‘ì„ìˆ˜ë¡ ë” ë†’ì€ ìˆœìœ„ì—ìš” (ë‹¨ìœ„: ì´ˆ)</div>
                </div>
             </div>

             <!--  ê°€ìš´ë° ì¹´ë“œ(ë°•ìŠ¤): ë²„íŠ¼ì¤„ + ë­í‚¹ í‘œ -->
            <div class="card">
                <!-- íˆ´ë°”: ìƒˆë¡œê³ ì¹¨ / ê²Œì„ìœ¼ë¡œ ëŒì•„ê°€ê¸° -->
                <div class="toolbar">
                    <button class="btn ghost" id="btnRefresh">ìƒˆë¡œê³ ì¹¨</button>
                    <button class="btn" id="btnBack">ê²Œì„ìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
                </div>

                <!-- í‘œë¥¼ ê°€ë¡œë¡œ ë„˜ì¹˜ë©´ ìŠ¤í¬ë¡¤ë˜ë„ë¡ ê°ì‹¸ëŠ” ë°•ìŠ¤ -->
                <div class="table-wrap">
                    <table aria-label="ë­í‚¹ í‘œ">
                        <thead>
                            <tr>
                                <!-- thead(th) : í‘œì˜ ì œëª© í–‰ -->
                                <th class="rank">ìˆœìœ„</th>
                                <th>ì•„ì´ë””</th>
                                <th>ê¸°ë¡(ì´ˆ)</th>
                                <th>ì €ì¥ì‹œê°</th>
                            </tr>
                        </thead>
                        <tbody id="rankBody">
                            <!-- ì²˜ìŒì—” "ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘..."ì„ ë³´ì—¬ì£¼ê³ ,
                                 ìë°”ìŠ¤í¬ë¦½íŠ¸ê°€ Firestoreì—ì„œ ë°ì´í„°ë¥¼ ê°€ì ¸ì˜¤ë©´ ì‹¤ì œ ë‚´ìš©ìœ¼ë¡œ ë°”ê¿”ì¹˜ê¸° -->
                            <tr><td colspan="4">ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘â€¦</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- í•˜ë‹¨ ì„¤ëª… -->
            <div class="footer">
                *ë™ì ì¼ ê²½ìš° ì €ì¥ ìˆœì„œë¡œ ì •ë ¬ë  ìˆ˜ ìˆì–´ìš”.<br/>
                *ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„œëŠ” Firestore ë³´ì•ˆ ê·œì¹™ì„ ê¼­ ì €ìš©í•´ì•¼ í•´ìš”.
            </div>
        </div>

        <!--
            [Firebase ë¼ì´ë¸ŒëŸ¬ë¦¬ ë¶ˆëŸ¬ì˜¤ê¸°]
            - compat(í˜¸í™˜) ë²„ì „ì€ import ê°™ì€ ê³ ê¸‰ ë¬¸ë²• ì—†ì´
              <script>ë§Œìœ¼ë¡œ ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆì–´ í•™ìŠµìš©ìœ¼ë¡œ ì¢‹ë‹¤.
            - ì „ì—­ì— firebase ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ê°ì²´ê°€ ìƒê¹€
        -->
        <script src="https://www.gstatic.com/firebasejs/12.7.0/firebase-app-compat.js"></script>
        <script src="https://www.gstatic.com/firebasejs/12.7.0/firebase-firestore-compat.js"></script>

        <!--
            [ìë°”ìŠ¤í¬ë¦½íŠ¸ ë¡œì§]
            - Firebase ì—°ê²° â†’ Firestore ì¤€ë¹„
            - ì£¼ì†Œì°½ì—ì„œ lastId/lastTiem ë°›ê¸°(ì˜µì…˜)
            - ë„ìš°ë¯¸ í•¨ìˆ˜ ì •ì˜(to2, fmtDate, escapeHtml)
            - loadRanking(): Firestoreì—ì„œ ë­í‚¹ 50ê°œ ë¶ˆëŸ¬ì˜¤ í‘œì— ê·¸ë¦¬ê¸°
            - ë²„íŠ¼ ì´ë²¤íŠ¸ ì—°ê²°(ìƒˆë¡œê³ ì¹¨, ëŒì•„ê°€ê¸°)
            - í˜ì´ì§€ ì²˜ìŒ ì—´ë¦´ ë•Œ 1ë²ˆ ì‹¤í–‰
        -->
        
        <script>
            /* 1) Firebase í”„ë¡œì íŠ¸ ì—°ê²° ì •ë³´
                - ê²Œì„ ì €ì¥ í˜ì´ì§€ì—ì„œ ì“´ ê°’ê³¼ "ê°™ì€ ê°’"ì„ ì¨ì•¼ ê°™ì€ DBë¥¼ ì½ê³  ì”€
                - Firebase ì½˜ì†” â†’ (í”„ë¡œì íŠ¸ ì„ íƒ) â†’ ì•± ì„¤ì •ì—ì„œ í™•ì¸ ê°€ëŠ¥
            */
            var firebaseConfig = {
                apiKey: "AIzaSyCPSD0RdcqYVHSqnQPdobqD4A4vow5ft4Q",  // ê³µê°œ í‚¤(ë³´ì•ˆì€ Firestore ê·œì¹™ì´ ì±…ì„ì ¸ì•¼ í•¨!)
                authDomain: "my-webgame-project1-92d16.firebaseapp.com",    // ì¸ì¦/í˜¸ìŠ¤íŒ… ë„ë©”ì¸
                projectId: "my-webgame-project1-92d16", // í”„ë¡œì íŠ¸ ID
                storageBucket: "my-webgame-project1-92d16.firebasestorage.app", // ìŠ¤í† ë¦¬ì§€(íŒŒì¼ ì €ì¥)
                messagingSenderId: "349232304034",  // í‘¸ì‹œ ë°œì‹  ID(ì´ ì˜ˆì œì—ì„  X)
                appId: "1:349232304034:web:2cb1bc2aa2736ed0f9acfb", // ì•± ê³ ìœ  ID
                measurementId: "G-83HH3SD6JZ"
            };

            /* 2) Firebase ì‹œì‘(ì´ˆê¸°í™”) + Firestore ì‚¬ìš© ì¤€ë¹„ */
            firebase.initializeApp(firebaseConfig);
            var db = firebase.firestore();

            /* 3) ì£¼ì†Œì°½ì—ì„œ ?lastId=...&lastTime=... ê°’ì„ êº¼ë‚´ê¸°(ì˜µì…˜)
                  - ê²Œì„ì—ì„œ "ì €ì¥ ì„±ê³µí›„" ì´ í˜ì´ì§€ë¡œ ë„˜ì–´ì˜¬ ë•Œ ì¿¼ë¦¬ìŠ¤íŠ¸ë¦¼ìœ¼ë¡œ ì „ë‹¬í•˜ë©´
                    ë§‰ ì €ì¥í•œ ë‚´ ê¸°ë¡ì„ í‘œì—ì„œ ë…¸ë€ìƒ‰ìœ¼ë¡œ í•˜ì´ë¼ì´íŠ¸í•  ìˆ˜ ìˆìŒ
            */
           function getQueryParam(name) {
            var query = location.search.replace(/^\?/, ''); // ë§¨ ì•ì˜ '?' ì œê±°
            var parts = query.split('&');   // 'a=1&b=2' â†’ ['a=1', 'b=2']
            for (var i = 0; i < parts.length; i++) {
                var kv = parts[i].split('=');   // 'a=1' â†’ ['a', '1']
                if (decodeURIComponent(kv[0]) === name) {
                    return kv[1] ? decodeURIComponent(kv[1]) : '';
                }
            }
            return null;    // ëª» ì°¾ìœ¼ë©´ null ë°˜í™˜
           }
           var lastId = getQueryParam('lastId');    // ë°©ê¸ˆ ì €ì¥í•œ ì•„ì´ë””(ë¬¸ìì—´)
           var lastTiem = getQueryParam('lastTime');    // ë°©ê¸ˆ ì €ì¥í•œ ê¸°ë¡(ì´ˆ, ë¬¸ìì—´)

           /* 4) ë„ìš°ë¯¸ í•¨ìˆ˜ë“¤ */

           // (a) ìˆ«ìë¥¼ ì†Œìˆ˜ì  ë‘˜ì¨° ìë¦¬ê¹Œì§€ "ë¬¸ìì—´"ë¡œ ë§Œë“¤ê¸° (ì˜ˆ: 1 â†’ "1.00", 1.234 â†’ "1.23")
           function to2(n) {
            if (typeof n !== 'number' || !isFinite(n)) return '';
            return (Math.round(n * 100) / 100).toFixed(2);
           }

           // (b) Firestore Timestampë¥¼ ë³´ê¸° ì¢‹ì€ ë‚ ì§œ ê¸€ìë¡œ ë°”ê¾¸ê¸°
           function fmtDate(ts) {
            if (!ts || !ts.toDate) return '';
            var d = ts.toDate();

            var y = d.getFullYear();
            var m = d.getMonth() + 1;   // 0~11ì´ë¼ +1
            var day = d.getDate();
            var hh = d.getHours();
            var mm = d.getMinutes();

            // í•­ìƒ ë‘ ìë¦¬ë¡œ(2 â†’ 02)
            if (m < 10) m = '0' + m;
            if (day < 10) day = '0' + day;
            if (hh < 10) hh = '0' + hh;
            if (mm < 10) mm = '0' + mm;

            return y + '-' + m + '-' + day + '' + hh + ':' + mm;
           }

           //
        </script>
    </body>
</html>